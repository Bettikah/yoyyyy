<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PayX Demo â€” Admin</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif; margin: 0; padding: 24px; background:#0b0b0c; color:#e8e8ea; }
    h1 { margin: 0 0 16px; }
    table { width: 100%; border-collapse: collapse; background:#141416; border-radius: 12px; overflow: hidden; }
    th, td { padding: 12px 14px; border-bottom: 1px solid #222; font-size: 14px; }
    th { text-align: left; background:#16181a; }
    tr:hover td { background:#121316; }
    .muted { color:#9aa0a6; margin-bottom: 16px; }
  </style>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>
</head>
<body>
  <h1>Login Attempts (Demo)</h1>
  <p class="muted">Entries below are synthetic demo rows written on submit. No real user input is stored.</p>
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Username (demo)</th>
        <th>Timestamp (UTC)</th>
      </tr>
    </thead>
    <tbody id="attemptsBody"></tbody>
  </table>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyByANBjLzBtTAsGNOwSSz5uqJm6QYuaw-g",
      authDomain: "youuh-5d9e3.firebaseapp.com",
      databaseURL: "https://youuh-5d9e3-default-rtdb.firebaseio.com",
      projectId: "youuh-5d9e3",
      storageBucket: "youuh-5d9e3.firebasestorage.app",
      messagingSenderId: "772789757705",
      appId: "1:772789757705:web:a8e73acadfcaa4324795d8"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const bodyEl = document.getElementById('attemptsBody');
    firebase.database().ref('loginAttempts').on('value', (snap) => {
      bodyEl.innerHTML = '';
      let i = 0;
      snap.forEach(child => {
        const { username, time } = child.val();
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${++i}</td><td>${username ?? ''}</td><td>${time ?? ''}</td>`;
        bodyEl.appendChild(tr);
      });
    });
  </script>
</body>
</html>
